{"ast":null,"code":"import { getTokenTimestamp, getRefreshToken } from './localstorage';\nimport axios from 'axios';\nexport function checkExpired(expiresIn) {\n  // const expiration_time = expiresIn * 1000;\n  // const timeStamp = getTokenTimestamp()\n  // if (timeStamp != null && Date.now() - timeStamp > expiration_time) {\n  //     console.warn('Access token has expired, refreshing...');\n  //     // refreshAccessToken();\n  // }\n  refreshAccessToken();\n}\n\nasync function refreshAccessToken() {\n  const refreshToken = getRefreshToken();\n  const {\n    data\n  } = await axios.post(\"http://localhost:8888/refresh_token\", {\n    refreshToken\n  });\n  console.log(data);\n}","map":{"version":3,"sources":["C:/Users/asraf/Desktop/Development/ReactJS/SpotifyDashboard/client/src/utils/spotify.js"],"names":["getTokenTimestamp","getRefreshToken","axios","checkExpired","expiresIn","refreshAccessToken","refreshToken","data","post","console","log"],"mappings":"AAAA,SAASA,iBAAT,EAA4BC,eAA5B,QAAmD,gBAAnD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,SAASC,YAAT,CAAsBC,SAAtB,EAAgC;AACnC;AACA;AACA;AACA;AACA;AACA;AACAC,EAAAA,kBAAkB;AACrB;;AAED,eAAeA,kBAAf,GAAmC;AAC/B,QAAMC,YAAY,GAAGL,eAAe,EAApC;AACA,QAAM;AAACM,IAAAA;AAAD,MAAS,MAAML,KAAK,CAACM,IAAN,CAAW,qCAAX,EAAkD;AACnEF,IAAAA;AADmE,GAAlD,CAArB;AAGAG,EAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACH","sourcesContent":["import { getTokenTimestamp, getRefreshToken } from './localstorage'\r\nimport axios from 'axios';\r\n\r\nexport function checkExpired(expiresIn){\r\n    // const expiration_time = expiresIn * 1000;\r\n    // const timeStamp = getTokenTimestamp()\r\n    // if (timeStamp != null && Date.now() - timeStamp > expiration_time) {\r\n    //     console.warn('Access token has expired, refreshing...');\r\n    //     // refreshAccessToken();\r\n    // }\r\n    refreshAccessToken()\r\n}\r\n\r\nasync function refreshAccessToken(){\r\n    const refreshToken = getRefreshToken();\r\n    const {data} = await axios.post(\"http://localhost:8888/refresh_token\", {\r\n        refreshToken\r\n    })\r\n    console.log(data)\r\n}"]},"metadata":{},"sourceType":"module"}