{"ast":null,"code":"import { getTokenTimestamp, getRefreshToken } from './localstorage';\nimport axios from 'axios';\nexport function checkExpired(expiresIn) {\n  const expiration_time = expiresIn * 1000;\n  const timeStamp = getTokenTimestamp();\n\n  if (timeStamp != null && Date.now() - timeStamp > expiration_time) {\n    console.warn('Access token has expired, refreshing...'); // refreshAccessToken();\n  }\n}\n\nasync function refreshAccessToken() {\n  const refreshToken = getRefreshToken();\n  const {\n    data\n  } = await axios.post(\"http://localhost:8888/refresh_token\", {\n    refreshToken\n  });\n}","map":{"version":3,"sources":["C:/Users/asraf/Desktop/Development/ReactJS/SpotifyDashboard/client/src/utils/spotify.js"],"names":["getTokenTimestamp","getRefreshToken","axios","checkExpired","expiresIn","expiration_time","timeStamp","Date","now","console","warn","refreshAccessToken","refreshToken","data","post"],"mappings":"AAAA,SAASA,iBAAT,EAA4BC,eAA5B,QAAmD,gBAAnD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,SAASC,YAAT,CAAsBC,SAAtB,EAAgC;AACnC,QAAMC,eAAe,GAAGD,SAAS,GAAG,IAApC;AACA,QAAME,SAAS,GAAGN,iBAAiB,EAAnC;;AACA,MAAIM,SAAS,IAAI,IAAb,IAAqBC,IAAI,CAACC,GAAL,KAAaF,SAAb,GAAyBD,eAAlD,EAAmE;AAC/DI,IAAAA,OAAO,CAACC,IAAR,CAAa,yCAAb,EAD+D,CAE/D;AACH;AACJ;;AAED,eAAeC,kBAAf,GAAmC;AAC/B,QAAMC,YAAY,GAAGX,eAAe,EAApC;AACA,QAAM;AAACY,IAAAA;AAAD,MAAS,MAAMX,KAAK,CAACY,IAAN,CAAW,qCAAX,EAAkD;AACnEF,IAAAA;AADmE,GAAlD,CAArB;AAGH","sourcesContent":["import { getTokenTimestamp, getRefreshToken } from './localstorage'\r\nimport axios from 'axios';\r\n\r\nexport function checkExpired(expiresIn){\r\n    const expiration_time = expiresIn * 1000;\r\n    const timeStamp = getTokenTimestamp()\r\n    if (timeStamp != null && Date.now() - timeStamp > expiration_time) {\r\n        console.warn('Access token has expired, refreshing...');\r\n        // refreshAccessToken();\r\n    }\r\n}\r\n\r\nasync function refreshAccessToken(){\r\n    const refreshToken = getRefreshToken();\r\n    const {data} = await axios.post(\"http://localhost:8888/refresh_token\", {\r\n        refreshToken\r\n    })\r\n}"]},"metadata":{},"sourceType":"module"}